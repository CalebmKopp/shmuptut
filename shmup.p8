pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
function _init()
	-- this is called once at start
	cls(0)
	xship = 64
	yship = 100
	
	xshipspd=0	
	yshipspd=0
	
	shipspr=36
	boostspr=6
	
	bullx=-20
	bully=-20
	bullspd=5
	bullspr=24
	
	muzzle=0
	
	score=10000
	lives=3
	bombs=2
	
	t=0
end

function _update()
	-- update is for gameplay
	--	 (hard 30 fps always)
	t+=1
	--controls
	xshipspd=0
	yshipspd=0
	shipspr=36
 
 --move left
	if btn(0) then
		shipspr=52
		xshipspd=-2
	end
	
	--move right
	if btn(1) then
		shipspr=20
		xshipspd=2
	end
	
	--move up
	if btn(2) then
		yshipspd=-2
	end
	
	
	--move down
	if btn(3) then
		yshipspd=2
	end
	
	--shoot
	if btnp(5) then
		bullx=xship
		bully=yship-1
		sfx(1)
		muzzle=4
	end
	
	--change ship draw coords
	xship = xship + xshipspd
	yship = yship + yshipspd
	
	--move the bullet
	bully=bully-bullspd
	
	--animate flame
	boostspr+=1
	if boostspr>10 then
		boostspr=6
	end

	--animate muzzle flash
	if muzzle>0 then
		muzzle-=1
	end
	
	--animate bullet sprite
--	if (t%10) > 4 then
--		bullspr=26
--	else
--		bullspr=24
--	end
	bullspr+=1
	if bullspr>27 then
		bullspr=24
	end

	--checking if we hit edge
	if xship > 120 then
		xship=0
	end
	if xship < 0 then
		xship=120
	end	
	if yship > 120 then
		yship=0
	end
	if yship < 0 then
		yship=120
	end
end

function _draw()
	-- draw is called when a frame
	--  drawn to the screen
	--  (30 fps attempted)
	cls(0)
	-- the ship should always be
	-- 	the last thing drawn
	spr(shipspr, xship, yship)
	spr(boostspr, xship, yship+8)
	
	-- conditionally drawn
	-- draw bullet
	spr(bullspr, bullx, bully)
	if muzzle>0 then
		circfill(xship+3,yship-2,muzzle,7)
		circfill(xship+4,yship-2,muzzle,7)
	end
	
	-- health ui
	print("score: "..score, 40,1,12)
	
	--adding health display
	for i=1,4 do
		if lives>=i then
			spr(74,(i*9)-8,1)
		else
			spr(91,(i*9)-8,1)
		end
	end
	
	-- adding bomb display
	for i=1,4 do
		if lives>=i then
			spr(76,(i*9)+84,1)
		else
			spr(93,(i*9)+84,1)
		end
	end
	
end

__gfx__
000000000aaaaaa009999990088888800eeeeee00000000000000000000000000000000000000000000000000000000000000000000000000008800000000000
00000000aa7aa7aa9979979988788788ee7ee7ee0000000000077000000770000007700000c77c0000077000000000000000000000000000008aa80000000000
00700700aa1aa1aa9919919988188188ee1ee1ee0000000000c77c000007700000c77c000cccccc000c77c000000000000000000000000000089a80000000000
00077000aaaaaaaa9999999988888888eeeeeeee0000000000cccc00000cc00000cccc0000cccc0000cccc000000000000000000000000000089a80000000000
00077000aaaaaaaa9999999988888888eeeeeeee00000000000cc000000cc000000cc00000000000000cc0000000000000000000000000000089a80000000000
00700700aa1aa1aa9919919988188188ee1ee1ee0000000000000000000cc0000000000000000000000000000000000000000000000000000089a80000000000
00000000aaa11aaa9991199988811888eee11eee0000000000000000000000000000000000000000000000000000000000000000000000000089980000000000
000000000aaaaaa009999990088888800eeeeee00000000000000000000000000000000000000000000000000000000000000000000000000008800000000000
00000000000dd000000dd00000022000000220000000000000000000000000000300003000300300000330000030030000000000008888000000000000000000
0700000000daad0000d99d0000288200002ee200000000000000000000000000373003730373373000377300037337300000000008aaaa800000000000000000
0000090000daad0000d99d0000288200002ee2000000000000000000000000003b3003b303b33b30003b730003b33b3000000000899aaaa80000000000000000
000000000d6aa6d00da99ad002e88e2002fee2000000000000000000000000003b3003b303b33b30003bb30003b33b30000000008999aaa80000000000000000
00000000d6a7ca6dda97c9ad2e87c8e202eec72000000000000000000000000003000030003003000003300000300300000000008999aaa80000000000000000
00700000daa11aadd991199d2881188202ee1120000000000000000000000000000000000000000000000000000000000000000089999aa80000000000000000
000000000da55ad00d9559d002855820022e55200000000000000000000000000000000000000000000000000000000000000000089999800000000000000000
0000007000d88d0000d88d0000299200002992000000000000000000000000000000000000000000000000000000000000000000008888000000000000000000
00000070000dd000000dd00000022000000220000000000000033000000330000003300000000000000000000000000000000000080000800008800000000000
0000000000daad0000d99d0000288200002ee20000000000003773000037730000377300000000000000000000000000000000008a8008a8008aa80000000000
0050000000daad0000d99d0000288200002ee20000000000003b7300003b7300003b730000000000000000000000000000000000898008980089a80000000000
000000000d6aa6d00da99ad002e88e2002feef2000000000003b7300003bb300003bb30000000000000000000000000000000000898008980089980000000000
00000000d6a7ca6dda97c9ad2e87c8e22fe7cef200000000003b7300003b7300003b730000000000000000000000000000000000080000800089a80000000000
0a000600daa11aadd991199d288118822ee11ee200000000003b7300003373000037330000000000000000000000000000000000000000000088a80000000000
000000000da55ad00d9559d00285582002e55e2000000000003bb300000330000003300000000000000000000000000000000000000000000008800000000000
0000000000d88d0000d88d0000299200002992000000000000033000000300000000300000000000000000000000000000000000000000000008000000000000
00000000000dd000000dd00000022000000220000000000000000000000000000000000000000000000000000000000000000000b00bb00b0000000000000000
0000007000daad0000d99d0000288200002ee20000000000000000000000000000000000000000000000000000000000000000000bb33bb00000000000000000
00a0000000daad0000d99d0000288200002ee2000000000000000000000000000000000000000000000000000000000000000000000bb0000000000000000000
000000000d6aa6d00da99ad002e88e20002eef20000000000000000000000000000000000000000000000000000000000000000000b33b000000000000000000
00000000d6a7ca6dda97c9ad2e87c8e2027cee200000000000000000000000000000000000000000000000000000000000000000000bb0000000000000000000
00000700daa11aadd991199d288118820211ee20000000000000000000000000000000000000000000000000000000000000000000b33b000000000000000000
000000000da55ad00d9559d0028558200255e2200000000000000000000000000000000000000000000000000000000000000000000bb0000000000000000000
0600000000d88d0000d88d0000299200002992000000000000000000000000000000000000000000000000000000000000000000000330000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000088008800000000000333300000000000000000000000000
00d0000000000d000000000000d0000000000d000000000000d0000000000d000000000000000000888888780000000003bbbb30000000000000000000000000
0dd0000000000dd0000000000dd0000003300dd0000000000dd0033000000dd0000000000000000088888878000000003bb777b3000000000000000000000000
0dd0033003300dd0000000000dd003300dd00dd0000000000dd00dd003300dd0000000000000000088888888000000003bbbb7b3000000000000000000000000
0dd00dd00dd00dd0000000000dd00dd00dd00dd0000000000dd00dd00dd00dd0000000000000000008888880000000003bbbbbb3000000000000000000000000
ddd0666666660ddd00000000ddd0666666660ddd00000000ddd0666666660ddd000000000000000000888800000000003bbbbbb3000000000000000000000000
dddd66622666dddd00000000dddd66622666dddd00000000dddd66622666dddd0000000000000000000880000000000003bbbb30000000000000000000000000
dddd662ee266dddd00000000dddd662ee266dddd00000000dddd662ee266dddd0000000000000000000000000000000000333300000000000000000000000000
0ddd662ee266ddd0000000000ddd662ee266ddd0000000000ddd662ee266ddd00000000000000000000000000880088000000000003333000000000000000000
00dd66622666dd000000000000dd66622666dd000000000000dd66622666dd000000000000000000000000008008800800000000030000300000000000000000
00006666666600000000000000006666666600000000000000006666666600000000000000000000000000008000000800000000300000030000000000000000
000099aaaa9900000000000000009aaaa9900000000000000000099aaaa900000000000000000000000000008000000800000000300000030000000000000000
000009999990000000000000000099a99900000000000000000000999a9900000000000000000000000000000800008000000000300000030000000000000000
00000889988000000000000000008999800000000000000000000008999800000000000000000000000000000080080000000000300000030000000000000000
00000088880000000000000000008888000000000000000000000000888800000000000000000000000000000008800000000000030000300000000000000000
00000008800000000000000000000880000000000000000000000000088000000000000000000000000000000000000000000000003333000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000003000000003000000000000030000000000300000000000003000000003000000000000000000000000000000000000000000000000000
00000000000000000003330000333000000000000033300000033300000000000003330000333000000000000000000000000000000000000000000000000000
00000000000000000000033003300000000000000000333003330000000000000000033003300000000000000000000000000000000000000000000000000000
00000000000000000000033003300000000000000000033003300000000000000000033003300000000000000000000000000000000000000000000000000000
00000000000000000000444444440000000000000000444444440000000000000000444444440000000000000000000000000000000000000000000000000000
00000000000000000033444114443300000000000033444114443300000000000033444114443300000000000000000000000000000000000000000000000000
00000000000000000333441881443330000000000333441881443330000000000333441881443330000000000000000000000000000000000000000000000000
00000000000000003333441881443333000000003333441881443333000000003333441881443333000000000000000000000000000000000000000000000000
00000000000000003330444114440333000000003330444114440333000000003330444114440333000000000000000000000000000000000000000000000000
00000000000000003330444444440333000000003330444444440333000000003330444444440333000000000000000000000000000000000000000000000000
00000000000000000330033003300330000000000330033003300330000000000330033003300330000000000000000000000000000000000000000000000000
000000000000000000000aa00aa000000000000000000aa00330000000000000000003300aa00000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000aa000000000000000000aa000000000000000000000000000000000000000000000000000000000
__gff__
0001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010001010001010000000000000000010100010100010100000000000000000000808000808000808000000000000000008080008080008080000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
0001000000002330522f052290522905226052220521f0521d0521b0521a05218052160521605215052140521405213002130021300212002120021200212002110021600226002340022e002000020000200002
000100003c513365132e5332853324533215031b50335523345230d53310533115330e5030c503085330753307503095030d5030f5031a503255032f50334503375031d5031f5031c50317503155031350312503
0001000018550155520f5520c5520b5520b5320d5221055216532305423253233522325222d5520a5520a5520d5521154218542235322a5322b53216512025021e5021d5021b5021a50219502195021750216502
